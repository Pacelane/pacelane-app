# Pacelane Design System - Cursor Rules

You are working on the Pacelane Design project, a React-based design system with comprehensive design tokens, theming, and component patterns. Always reference and use the existing design system instead of creating new styles or tokens.

## Design System Structure

The design system is located in `src/design-system/` with the following structure:
- `tokens/` - All design tokens (colors, typography, spacing, etc.)
- `components/` - Reusable design system components  
- `styles/` - Pre-defined style combinations and utilities
- `services/theme-context.jsx` - Theme management and switching

## Import Path Patterns

**CRITICAL**: Always use the `@/` alias for imports. NEVER use `src/` prefix or relative paths.

### Correct Import Patterns
```javascript
// ✅ ALWAYS use @/ alias
import { useTheme } from '@/services/theme-context';
import { spacing } from '@/design-system/tokens/spacing';
import { Button } from '@/design-system/components/Button';
import { useAuth } from '@/hooks/api/useAuth';

// ✅ Omit file extensions (.js, .jsx, .ts, .tsx)
import IntegrationCard from '@/design-system/components/IntegrationCard';
```

### Incorrect Import Patterns
```javascript
// ❌ NEVER use src/ prefix
import { useTheme } from 'src/services/theme-context.jsx';
import { spacing } from 'src/design-system/tokens/spacing.js';

// ❌ NEVER use relative paths in pages or components
import { useTheme } from '../services/theme-context.jsx';
import { useTheme } from '../../services/theme-context.jsx';

// ❌ NEVER include file extensions
import Button from '@/design-system/components/Button.jsx';
```

### Import Rules
1. **Always use `@/` alias** - This is configured in the project's path mapping
2. **Never use `src/` prefix** - This causes module resolution errors
3. **Never use relative paths** - Use absolute paths with `@/` for consistency
4. **Omit file extensions** - Let the bundler resolve .js, .jsx, .ts, .tsx automatically
5. **Be consistent** - All imports across the project should follow the same pattern

## Design Tokens Reference

### Import Design Tokens
```javascript
// Import all tokens
import { tokens } from '@/design-system/tokens';

// Import specific token categories
import { colors } from '@/design-system/tokens/primitive-colors';
import { themes } from '@/design-system/tokens/semantic-colors';
import { typography } from '@/design-system/tokens/typography';
import { spacing } from '@/design-system/tokens/spacing';
import { cornerRadius } from '@/design-system/tokens/corner-radius';
import { stroke } from '@/design-system/tokens/stroke';
import { shadows, getShadow } from '@/design-system/tokens/shadows';

// Import theme context
import { useTheme, ThemeProvider } from '@/services/theme-context';

// Import text styles
import { textStyles } from '@/design-system/styles/typography/typography-styles';

// Import Lucide icons
import { IconName } from 'lucide-react';
```

### Color System

#### Primitive Colors
Use primitive colors from `colors` object with full color scales:
- **Grayscale**: `colors.gray[0-1000]` (white to black)
- **Brand Colors**: `colors.blue[50-950]`, `colors.teal[50-950]`
- **Semantic Colors**: `colors.red[50-950]` (destructive), `colors.green[50-950]` (success), `colors.orange[50-950]` (warning)
- **Extended Palette**: `colors.violet`, `colors.indigo`, `colors.cyan`, `colors.emerald`, `colors.rose`
- **Transparent Variants**: `colors.transparentDark[0-90]`, `colors.transparentLight[0-90]`
- **Transparent Colored**: `colors.transparentRed[10-90]`, `colors.transparentBlue[10-90]`, etc.

#### Semantic Colors (Theme-Aware)
Always use semantic colors for theme-compatible components:

```javascript
const { colors } = useTheme(); // Gets current theme colors

// Text colors
colors.text.default, colors.text.subtle, colors.text.muted, colors.text.hint
colors.text.destructive, colors.text.success, colors.text.warning, colors.text.informative
colors.text.accent // teal accent color
colors.text.inverted.default, colors.text.white.default, colors.text.dark.default

// Background colors
colors.bg.default, colors.bg.subtle, colors.bg.muted, colors.bg.inverted
colors.bg.card.default, colors.bg.card.subtle, colors.bg.card.inverted
colors.bg.input.default, colors.bg.input.soft, colors.bg.input.disabled

// Interactive states
colors.bg.state.primary, colors.bg.state.primaryHover, colors.bg.state.primaryPress
colors.bg.state.secondary, colors.bg.state.secondaryHover
colors.bg.state.soft, colors.bg.state.softHover, colors.bg.state.ghost
colors.bg.state.destructive, colors.bg.state.brand

// Border colors
colors.border.default, colors.border.darker, colors.border.strong
colors.border.destructive, colors.border.success, colors.border.warning
colors.border.highlight, colors.border.menuItem

// Icon colors
colors.icon.default, colors.icon.subtle, colors.icon.muted, colors.icon.disabled
colors.icon.destructive, colors.icon.success, colors.icon.warning
```

### Typography System

#### Font Families
```javascript
typography.fontFamily.inter        // ['Inter', 'ui-sans-serif', 'system-ui', 'sans-serif']
typography.fontFamily.fraunces     // ['Fraunces', 'ui-serif', 'Georgia', 'serif'] 
typography.fontFamily.jetbrains    // ['JetBrains Mono', 'ui-monospace', 'SFMono-Regular', 'monospace']
typography.fontFamily['awesome-serif'] // ['Awesome Serif VAR', 'ui-serif', 'Georgia', 'serif']

// Semantic assignments
typography.fontFamily.headline     // Inter
typography.fontFamily.body         // Inter  
typography.fontFamily.quote        // Fraunces
typography.fontFamily.code         // JetBrains Mono
```

#### Text Sizes (Desktop/Mobile)
```javascript
// Desktop sizes
typography.desktop.size.xs         // 12px
typography.desktop.size.sm         // 14px  
typography.desktop.size.md         // 16px
typography.desktop.size.lg         // 18px
typography.desktop.size.xl         // 20px
typography.desktop.size['2xl']     // 24px
typography.desktop.size['3xl']     // 30px
typography.desktop.size['4xl']     // 36px
typography.desktop.size['5xl']     // 48px
typography.desktop.size['6xl']     // 60px
typography.desktop.size['7xl']     // 72px
typography.desktop.size['8xl']     // 96px
typography.desktop.size['9xl']     // 128px

// Mobile sizes (different scaling)
typography.mobile.size.lg          // 16px (vs 18px desktop)
typography.mobile.size.xl          // 18px (vs 20px desktop)
// etc. - mobile sizes are smaller for better mobile UX
```

#### Font Weights
```javascript
typography.desktop.weight.light     // 300
typography.desktop.weight.normal    // 400
typography.desktop.weight.medium    // 500
typography.desktop.weight.semibold  // 600
typography.desktop.weight.bold      // 700
typography.desktop.weight.extrabold // 800
typography.desktop.weight.black     // 900
```

#### Pre-defined Text Styles
Use `textStyles` for consistent typography combinations:

```javascript
// Available sizes: xs, sm, md, lg, xl, 2xl, 3xl, 4xl, 5xl, 6xl, 7xl, 8xl, 9xl
// Available weights: light, normal, medium, semibold, bold, extrabold, black

textStyles.md.semibold    // 16px, 600 weight, proper line height
textStyles.xl.bold        // 20px, 700 weight, proper line height
textStyles['2xl'].normal  // 24px, 400 weight, proper line height

// Special styles
textStyles.quote.normal   // Fraunces font for quotes
textStyles.code.normal    // JetBrains Mono for code
```

### Spacing System
```javascript
spacing.spacing.none      // 0px
spacing.spacing[4]        // 4px
spacing.spacing[8]        // 8px
spacing.spacing[12]       // 12px
spacing.spacing[16]       // 16px
spacing.spacing[20]       // 20px
spacing.spacing[24]       // 24px
spacing.spacing[32]       // 32px
spacing.spacing[40]       // 40px
spacing.spacing[48]       // 48px
spacing.spacing[56]       // 56px
spacing.spacing[64]       // 64px
spacing.spacing[80]       // 80px
spacing.spacing[96]       // 96px
// ... up to 384px
```

### Border Radius
```javascript
cornerRadius.borderRadius.none      // 0px
cornerRadius.borderRadius['2xs']    // 2px
cornerRadius.borderRadius.xs        // 4px
cornerRadius.borderRadius.sm        // 6px
cornerRadius.borderRadius.md        // 8px
cornerRadius.borderRadius.lg        // 12px
cornerRadius.borderRadius.xl        // 16px
cornerRadius.borderRadius['2xl']    // 24px
cornerRadius.borderRadius['3xl']    // 28px
cornerRadius.borderRadius.full      // 9999px
```

### Shadow System
Always use the design system shadow tokens for consistent shadows across all components:

```javascript
// Import shadows
import { shadows, getShadow } from '@/design-system/tokens/shadows';
import { useTheme } from '@/services/theme-context';
```

#### Regular Shadows
Use these for elevated surfaces like cards, modals, and overlays:

```javascript
// Card shadow - Inner + drop shadow combination
shadows.regular.card        // Inner shadow (y:-1px, 10%) + Drop (y:1px, blur:2px, 5%)

// Modal shadows - Multiple layered drop shadows
shadows.regular.modalSm     // 4 layers with negative spreads (subtle elevation)
shadows.regular.modalMd     // 4 layers with zero spreads (medium elevation)  
shadows.regular.modalLg     // 5 layers with 16px layer (high elevation)
```

#### Component Shadows
Use these for interactive elements like buttons, inputs, and switches:

```javascript
shadows.component.default         // Default component shadow (8% inner opacity)
shadows.component.switchHandle    // Switch handle with stronger shadows
shadows.component.focus          // Base focus shadow (without focus rings)
shadows.component.destructiveFocus // Base destructive focus shadow
```

#### Shadow Usage Patterns

**Direct Shadow Usage:**
```jsx
// Basic shadows
<div style={{ boxShadow: shadows.regular.card }}>Card content</div>
<div style={{ boxShadow: shadows.component.switchHandle }}>Switch handle</div>
```

**Shadows with Theme Borders:**
```jsx
const { colors } = useTheme();

// Card with border
<div style={{ boxShadow: getShadow('regular.card', colors, { withBorder: true }) }}>
  Card with theme border
</div>

// Modal with border
<div style={{ boxShadow: getShadow('regular.modalLg', colors, { withBorder: true }) }}>
  Modal content
</div>
```

**Focus States with Rings:**
```jsx
const { colors } = useTheme();

// Default focus (blue ring)
<div style={{ boxShadow: getShadow('component.focus', colors, { focusType: 'default' }) }}>
  Focused element
</div>

// Destructive focus (red ring)
<div style={{ boxShadow: getShadow('component.destructiveFocus', colors, { focusType: 'destructive' }) }}>
  Error state element
</div>

// Input focus
<div style={{ boxShadow: getShadow('', colors, { focusType: 'input' }) }}>
  Input field
</div>

// Misc focus (general purpose)
<div style={{ boxShadow: getShadow('', colors, { focusType: 'misc' }) }}>
  Other focused element
</div>
```



### Stroke/Border Widths
```javascript
stroke.sm                 // 0.5px
stroke.default            // 1px
stroke.md                 // 1.5px
stroke.lg                 // 2px
stroke.xl                 // 3px
stroke['2xl']             // 4px
```

## Icons System

### Lucide React Icons
Always use Lucide React icons for consistent iconography across the design system. **NEVER create custom SVG icons** - use Lucide instead.

#### Import and Usage
```javascript
// Import specific icons from lucide-react
import { 
  MoreHorizontal,    // Three dots menu
  Plus,              // Add/create actions
  X,                 // Close/cancel actions
  Check,             // Confirm/success actions
  ChevronDown,       // Dropdown indicators
  ChevronUp,         // Collapse indicators  
  ChevronLeft,       // Navigation back
  ChevronRight,      // Navigation forward
  Search,            // Search functionality
  Settings,          // Settings/options
  User,              // User profile
  Bell,              // Notifications
  Mail,              // Email/messaging
  Calendar,          // Date/time
  File,              // Documents
  Folder,            // Directories
  Download,          // Download actions
  Upload,            // Upload actions
  Edit,              // Edit actions
  Trash2,            // Delete actions (preferred over Trash)
  Eye,               // View/show actions
  EyeOff,            // Hide actions
  Copy,              // Copy actions
  ExternalLink,      // External navigation
  Info,              // Information
  AlertCircle,       // Warning states
  CheckCircle,       // Success states
  XCircle,           // Error states
  Heart,             // Like/favorite
  Star,              // Rating/bookmark
  Share,             // Share actions
  Filter,            // Filter functionality
  SortAsc,           // Sort ascending
  SortDesc,          // Sort descending
  Menu,              // Menu toggle
  Home               // Home navigation
} from 'lucide-react';

// Usage in components
<Button 
  leadIcon={<Plus size={16} />}
  label="Add Item"
/>

// For Button component, icons automatically inherit color
<Button 
  variant="iconOnly"
  leadIcon={<MoreHorizontal size={12} />}
  onClick={handleMenuToggle}
/>

// For standalone icons, use theme colors
const { colors } = useTheme();
<Search 
  size={20} 
  color={colors.icon.default}
/>
```

#### Icon Sizing Guidelines
- **Button icons**: Use size from Button component's size configuration (handled automatically)
- **Standalone icons**: 
  - Small: 16px (for compact UI elements)
  - Medium: 20px (default for most interfaces)  
  - Large: 24px (for headers and emphasis)
  - Extra Large: 32px+ (for empty states and illustrations)

#### Icon Color Guidelines
- **In Button components**: Icons automatically inherit the correct color - use `<IconName size={x} />`
- **Standalone icons**: Always use semantic icon colors from theme:
  - `colors.icon.default` - Primary icon color
  - `colors.icon.subtle` - Secondary/less important icons
  - `colors.icon.muted` - Tertiary/background icons  
  - `colors.icon.disabled` - Disabled state icons
  - `colors.icon.destructive` - Error/delete action icons
  - `colors.icon.success` - Success state icons
  - `colors.icon.warning` - Warning state icons

#### Common Icon Patterns
```javascript
// Dropdown trigger
<Button 
  leadIcon={<ChevronDown size={12} />}
  label="Options"
/>

// Close button
<Button 
  variant="iconOnly"
  style="ghost"
  leadIcon={<X size={16} />}
  onClick={onClose}
/>

// Search input
<Input 
  leadIcon={<Search size={16} />}
  placeholder="Search..."
/>

// More options menu
<Button 
  variant="iconOnly" 
  style="secondary"
  leadIcon={<MoreHorizontal size={12} />}
  onClick={toggleMenu}
/>

// Delete action  
<Button 
  style="destructive"
  leadIcon={<Trash2 size={16} />}
  label="Delete"
/>
```

## Component Patterns

### Theme-Aware Components
Always create components that work with both light and dark themes:

```jsx
import React from 'react';
import { useTheme } from '@/services/theme-context';
import { spacing } from '@/design-system/tokens/spacing';
import { cornerRadius } from '@/design-system/tokens/corner-radius';
import { getShadow } from '@/design-system/tokens/shadows';

const MyComponent = ({ children, variant = 'default', elevated = false }) => {
  const { colors } = useTheme();
  
  return (
    <div
      style={{
        backgroundColor: colors.bg.card.default,
        color: colors.text.default,
        padding: spacing.spacing[16],
        borderRadius: cornerRadius.borderRadius.md,
        boxShadow: elevated 
          ? getShadow('regular.modalMd', colors, { withBorder: true })
          : getShadow('regular.card', colors, { withBorder: true }),
      }}
    >
      {children}
    </div>
  );
};
```

### Using Tailwind with Design Tokens
The design tokens are integrated with Tailwind CSS:

```jsx
// Use Tailwind classes that map to design tokens
<div className="bg-gray-50 text-gray-950 p-4 rounded-md border border-gray-200">
  Content using primitive colors
</div>

// For theme-aware styling, use CSS-in-JS with semantic colors
const { colors } = useTheme();
<div 
  className="p-4 rounded-md border"
  style={{ 
    backgroundColor: colors.bg.card.default,
    color: colors.text.default,
    borderColor: colors.border.default 
  }}
>
  Theme-aware content
</div>
```

### Typography Components
```jsx
// Using pre-defined text styles
import { textStyles } from '@/design-system/styles/typography/typography-styles';

const Heading = ({ level = 1, children }) => {
  const styles = {
    1: textStyles['4xl'].bold,
    2: textStyles['3xl'].semibold,
    3: textStyles['2xl'].semibold,
    4: textStyles.xl.medium,
    5: textStyles.lg.medium,
    6: textStyles.md.medium,
  };
  
  return <h1 style={styles[level]}>{children}</h1>;
};
```

## Design System Components

### Available Components
- `Button`: Comprehensive button component with 7 styles, 5 sizes, and smooth motion animations
- `Bichaurinho`: Mascot illustrations with 32 variants
- `Logo`: Auto-switching logo for light/dark themes

```jsx
import Button from '@/design-system/components/Button';
import Bichaurinho from '@/design-system/components/Bichaurinho';
import Logo from '@/design-system/components/Logo';

// Button usage - ALWAYS use this component for ANY button needs
<Button 
  label="Click me"
  style="primary"        // 'primary' | 'secondary' | 'dashed' | 'soft' | 'ghost' | 'ghostMuted' | 'destructive'
  size="lg"             // 'lg' | 'md' | 'sm' | 'xs' | '2xs'
  onClick={handleClick}
  leadIcon={<Icon />}   // Optional leading icon
  tailIcon={<Icon />}   // Optional trailing icon
  loading={false}       // Loading state with spinner
  disabled={false}      // Disabled state
/>

// Bichaurinho usage
<Bichaurinho variant={1-32} size={128} className="custom-class" />

// Logo usage  
<Logo width={120} className="custom-class" alt="Custom alt text" />
```

#### Button Component Styles
The Button component provides 7 complete styles for different use cases:

- **Primary**: Blue backgrounds, white text/icons, shadows - for main actions
- **Secondary**: Light backgrounds, default text, muted icons, borders, shadows - for secondary actions  
- **Dashed**: Same as secondary but with dashed borders, no shadows - for draft/temporary actions
- **Soft**: Soft colored backgrounds, muted text/icons, no borders/shadows - for subtle actions
- **Ghost**: Minimal backgrounds, default text, muted icons, no borders/shadows - for minimal actions
- **Ghost Muted**: Same as ghost but with muted text - for ultra-subtle actions
- **Destructive**: Red backgrounds, white text/icons, shadows - for delete/remove actions

#### Button Component Features
- **Theme-Aware**: Automatically adapts to light/dark themes
- **Motion Enhanced**: Smooth hover/press scale animations and color transitions
- **Loading States**: Built-in loading spinner with smooth animations
- **Icon Support**: Lead and tail icons with hover animations
- **Accessibility**: Full keyboard navigation and screen reader support
- **Consistent**: Uses all design system tokens (colors, spacing, typography, shadows)

## Rules for Cursor

### ALWAYS DO:
1. **Use `@/` alias for ALL imports** - never use `src/` prefix or relative paths
2. **Omit file extensions** in imports - let the bundler resolve .js, .jsx, .ts, .tsx automatically
3. **Use the Button component** for ALL button needs - never create custom buttons or use HTML `<button>` elements
4. **Use Lucide React icons** for ALL icon needs - never create custom SVG icons
5. **Import and use existing design tokens** instead of hardcoding values
6. **Use semantic colors** (`colors.text.default`, `colors.bg.card.default`) for theme compatibility
7. **Use the `useTheme()` hook** for theme-aware components
8. **Reference `textStyles`** for typography instead of manual font/size combinations
9. **Use spacing tokens** for consistent padding, margins, and gaps
10. **Use cornerRadius tokens** for consistent border radius
11. **Use design system shadow tokens** (`shadows.regular.card`, `shadows.component.default`) for all shadows
12. **Use `getShadow()` helper** for theme-aware borders and focus rings
13. **Use existing components** (`Button`, `Bichaurinho`, `Logo`, `DropdownMenu`) when appropriate
14. **Follow the established patterns** shown in existing components

### NEVER DO:
1. **Use `src/` prefix in imports** - always use `@/` alias instead
2. **Use relative paths** (`../`, `../../`) in imports - always use `@/` alias
3. **Include file extensions** (.js, .jsx, .ts, .tsx) in imports - omit them
4. **Create custom buttons or use HTML `<button>` elements** - always use the Button component
5. **Create custom SVG icons** - always use Lucide React icons instead
6. **Hardcode colors, fonts, spacing, or shadow values** - always use tokens
7. **Create new design tokens** - use existing ones or ask for clarification
8. **Use CSS color names or hex values directly** - use the color system
9. **Ignore theme compatibility** - always consider light/dark mode
10. **Create typography styles manually** - use `textStyles` or typography tokens
11. **Use arbitrary Tailwind values** - use the extended theme values
12. **Use Tailwind shadow classes** - use design system shadow tokens instead
13. **Hardcode CSS box-shadow values** - use `shadows` tokens or `getShadow()` helper

### Examples of Good vs Bad:

❌ **DON'T** (Wrong Import Paths):
```jsx
// Never use src/ prefix
import { useTheme } from 'src/services/theme-context.jsx';
import { spacing } from 'src/design-system/tokens/spacing.js';

// Never use relative paths
import { useTheme } from '../services/theme-context.jsx';
import Button from '../../design-system/components/Button.jsx';

// Never include file extensions
import IntegrationCard from '@/design-system/components/IntegrationCard.jsx';
```

✅ **DO** (Correct Import Paths):
```jsx
// Always use @/ alias without extensions
import { useTheme } from '@/services/theme-context';
import { spacing } from '@/design-system/tokens/spacing';
import Button from '@/design-system/components/Button';
import IntegrationCard from '@/design-system/components/IntegrationCard';
```

❌ **DON'T** (Custom Buttons):
```jsx
<button 
  style={{ 
    backgroundColor: '#007bff', 
    color: 'white',
    padding: '12px 16px',
    borderRadius: '6px',
    border: 'none'
  }}
  onClick={handleClick}
>
  Submit
</button>
```

✅ **DO** (Button Component):
```jsx
<Button 
  label="Submit"
  style="primary"
  size="lg"
  onClick={handleClick}
/>
```

❌ **DON'T**:
```jsx
<div style={{ 
  backgroundColor: '#f4f4f5', 
  color: '#18181b',
  padding: '16px',
  borderRadius: '8px'
}}>
```

✅ **DO**:
```jsx
const { colors } = useTheme();
<div style={{ 
  backgroundColor: colors.bg.subtle, 
  color: colors.text.default,
  padding: spacing.spacing[16],
  borderRadius: cornerRadius.borderRadius.md
}}>
```

❌ **DON'T**:
```jsx
<h1 style={{ fontSize: '24px', fontWeight: 600, fontFamily: 'Inter' }}>
```

✅ **DO**:
```jsx
<h1 style={textStyles['2xl'].semibold}>
```

❌ **DON'T**:
```jsx
<div className="shadow-md">
<div style={{ boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' }}>
```

✅ **DO**:
```jsx
<div style={{ boxShadow: shadows.regular.card }}>
// Or with theme-aware borders
const { colors } = useTheme();
<div style={{ boxShadow: getShadow('regular.modalMd', colors, { withBorder: true }) }}>
```

❌ **DON'T** (Custom Icons):
```jsx
const CustomIcon = () => (
  <svg width="16" height="16" viewBox="0 0 16 16">
    <circle cx="3" cy="8" r="1.5" fill="currentColor" />
    <circle cx="8" cy="8" r="1.5" fill="currentColor" />
    <circle cx="13" cy="8" r="1.5" fill="currentColor" />
  </svg>
);
```

✅ **DO** (Lucide Icons):
```jsx
import { MoreHorizontal } from 'lucide-react';

<Button 
  variant="iconOnly"
  leadIcon={<MoreHorizontal size={12} />}
  onClick={handleMenuToggle}
/>
```

### Component Creation Checklist:
- [ ] Uses `@/` alias for ALL imports (never `src/` prefix or relative paths)
- [ ] Omits file extensions in imports (.js, .jsx, .ts, .tsx)
- [ ] Uses the Button component for ANY button needs (never create custom buttons)
- [ ] Uses Lucide React icons for ANY icon needs (never create custom SVG icons)
- [ ] Uses semantic colors for theme compatibility
- [ ] Imports design tokens from the design system
- [ ] Uses `useTheme()` hook if theme-aware
- [ ] Uses `textStyles` for typography
- [ ] Uses spacing tokens for layout
- [ ] Uses cornerRadius tokens for rounded corners
- [ ] Uses design system shadow tokens (`shadows.regular.*`, `shadows.component.*`)
- [ ] Uses `getShadow()` helper for theme-aware shadows with borders/focus rings
- [ ] Follows existing component patterns
- [ ] Works in both light and dark themes

Remember: The design system is comprehensive and battle-tested. Always use existing tokens and patterns rather than creating new ones. When in doubt, reference the existing components (`Button.jsx`, `Bichaurinho.jsx`, `Logo.jsx`) for implementation patterns. **NEVER create custom buttons - the Button component handles all use cases with 7 styles, 5 sizes, and full motion animations.**

## Component Creation Guidelines

### When to Use Existing Design System Components
- **ALWAYS** check the design system first for existing components before creating new ones
- Use design system components for ALL UI needs (buttons, inputs, cards, navigation, etc.)
- **NEVER** use Shad CN components or components from `src/components/ui/` - use design system equivalents instead

### When to Create New Components

#### 1. Page-Level Components
- Create new components in the same file when they are page-specific and won't be reused
- Use descriptive names that clearly indicate their purpose and context
- Example: `ProfileSettingsCard`, `OnboardingWelcomeHero`, `ContentEditorSidebar`

#### 2. Reusable Components  
- If a component is used more than once across different pages/contexts, add it to the design system
- Place new design system components in `src/design-system/components/`
- Use PascalCase naming with descriptive, semantic names
- Example: `NotificationToast`, `UserAvatar`, `SearchFilterBar`

#### 3. Component Composition
- Prefer composing existing design system components rather than creating new ones
- Use design system tokens (colors, spacing, typography) for all styling
- Follow established patterns from existing design system components

### Design System Component Naming Convention
- Use clear, semantic names that describe the component's purpose
- Avoid generic names like `Card`, `Modal`, `List` - be specific about the use case
- Examples:
  - `ContentPreviewCard` instead of `Card`
  - `ProjectSelectionModal` instead of `Modal`  
  - `TemplateLibraryGrid` instead of `Grid`

### Component File Structure
```
src/design-system/components/
├── Button.jsx           // ✅ Main action component
├── Input.jsx            // ✅ Form input component  
├── UserProfileCard.jsx  // ✅ Specific user profile display
├── ContentSummaryCard.jsx // ✅ Content overview display
└── ProjectNavigationTabs.jsx // ✅ Project-specific navigation
```

### Migration Strategy
1. **Audit existing components** - identify which can be replaced with design system components
2. **Replace Shad CN imports** - migrate all `@/components/ui/*` imports to design system equivalents
3. **Create missing components** - add new design system components for unique use cases
4. **Remove unused files** - clean up old component files after migration
5. **Ensure consistency** - verify all pages use design system components

### Component Development Rules
- **Theme Compatibility**: All components must work with light/dark themes using `useTheme()`
- **Design Tokens**: Use design system tokens for all styling (no hardcoded values)
- **Motion**: Include appropriate hover/focus animations using design system patterns
- **Accessibility**: Follow accessibility best practices with proper ARIA labels and keyboard navigation
- **Documentation**: Include clear prop interfaces and usage examples

## Application Layout & Navigation

### MainAppChrome Component

The `MainAppChrome` component is the **primary layout wrapper** for all authenticated application pages. It provides consistent chrome with sidebar navigation and content structure.

#### Usage Pattern
```jsx
// In App.tsx - MainAppChrome wraps all authenticated routes
<Route
  element={
    <ProtectedRoute>
      <MainAppChrome>
        <Outlet />
      </MainAppChrome>
    </ProtectedRoute>
  }
>
  <Route path="/product-home" element={<ProductHome />} />
  <Route path="/knowledge" element={<KnowledgeBase />} />
  <Route path="/profile" element={<Profile />} />
  <Route path="/content-editor" element={<ContentEditor />} />
  <Route path="/posts" element={<Posts />} />
  <Route path="/pacing" element={<PacingPage />} />
  <Route path="/notifications" element={<NotificationsPage />} />
  <Route path="/plan-billing" element={<PlanBillingPage />} />
</Route>
```

#### Layout Structure
MainAppChrome provides:

1. **Theme-Aware Background**: Uses `colors.bg.subtle` from theme context
2. **Sidebar Navigation**: `HomeSidebar` component on the left (collapsible)
3. **Centered Content Container**: 840px max-width with proper padding
4. **Conditional Layout**: Hides sidebar for content editor route

#### Content Container Specifications
```javascript
// Standard content wrapper (all pages except content editor)
const contentWrapperStyles = {
  width: '100%',
  maxWidth: '840px',           // Fixed max width for consistency
  margin: '0 auto',            // Center the content
  paddingTop: spacing.spacing[40],      // 40px top padding
  paddingBottom: spacing.spacing[80],   // 80px bottom padding  
  paddingLeft: spacing.spacing[24],     // 24px left padding
  paddingRight: spacing.spacing[24],    // 24px right padding
  backgroundColor: 'transparent',       // Transparent for theme background
  boxSizing: 'border-box',
};
```

#### Route-to-Menu Mapping
The component automatically sets active navigation state based on current route:

```javascript
// Active menu item detection
const activeMenuItem = (() => {
  if (location.pathname.startsWith('/product-home')) return 'home';
  if (location.pathname.startsWith('/knowledge')) return 'knowledge';
  if (location.pathname.startsWith('/profile')) return 'profile';
  if (location.pathname.startsWith('/posts')) return 'history';
  if (location.pathname.startsWith('/pacing')) return 'pacing';
  if (location.pathname.startsWith('/notifications')) return 'notifications';
  if (location.pathname.startsWith('/plan-billing')) return 'plan-billing';
  return 'home'; // Default fallback
})();
```

#### Navigation Handlers
MainAppChrome handles all navigation through centralized menu handlers:

```javascript
const handleMenuItemClick = (menuId) => {
  switch (menuId) {
    case 'home': navigate('/product-home'); break;
    case 'profile': navigate('/profile'); break;
    case 'knowledge': navigate('/knowledge'); break;
    case 'history': navigate('/posts'); break;
    case 'pacing': navigate('/pacing'); break;
    case 'notifications': navigate('/notifications'); break;
    case 'plan-billing': navigate('/plan-billing'); break;
    default: break;
  }
};

// Special navigation handlers
const handleCreateNewClick = () => navigate('/content-editor');
const handleAvatarClick = () => navigate('/profile');
```

### Page Development Guidelines

#### When Creating New Pages

1. **Add Route to App.tsx**: Include the new page route inside the MainAppChrome wrapper
2. **Import the Page Component**: Add proper import statement
3. **Update MainAppChrome**: Add route mapping in `activeMenuItem` logic and `handleMenuItemClick` function
4. **Page Content Structure**: All pages automatically get the 840px centered container

#### Content Editor Exception
The content editor route (`/content-editor`) has special handling:
- **No sidebar**: `hideSidebar = location.pathname === '/content-editor'`
- **No content wrapper**: Full-width layout for editor interface
- **Direct children rendering**: Content is not wrapped in the centered container

#### Page Implementation Pattern
```jsx
// All pages should follow this pattern (except content editor)
const MyPage = () => {
  const { colors } = useTheme();
  
  // Page content should be transparent - MainAppChrome provides background
  const containerStyles = {
    display: 'flex',
    flexDirection: 'column',
    gap: spacing.spacing[32],
    backgroundColor: 'transparent', // ✅ Always transparent
  };

  return (
    <div style={containerStyles}>
      {/* Page content here */}
      {/* MainAppChrome automatically provides 840px container + padding */}
    </div>
  );
};
```

### Navigation Consistency Rules

1. **Route Naming**: Use consistent path patterns (`/page-name`)
2. **Menu ID Mapping**: Update both route detection and navigation handler
3. **Active States**: Ensure proper active state highlighting in sidebar
4. **Responsive Behavior**: Sidebar collapses on small screens
5. **Theme Compatibility**: All navigation uses semantic colors

### Current Route Structure
```
Protected Routes (wrapped by MainAppChrome):
├── /product-home     → 'home' menu item
├── /knowledge        → 'knowledge' menu item  
├── /profile          → 'profile' menu item
├── /posts            → 'history' menu item
├── /content-editor   → Special (no sidebar)
├── /pacing           → 'pacing' menu item
├── /notifications    → 'notifications' menu item
└── /plan-billing     → 'plan-billing' menu item

Public Routes (no MainAppChrome):
├── /                 → SignIn
├── /signin           → SignIn
└── /onboarding/*     → Onboarding flow
```

### Adding New Routes Checklist
When adding a new authenticated page:

- [ ] Add route to MainAppChrome wrapper in `App.tsx`
- [ ] Import the new page component
- [ ] Add route pattern to `activeMenuItem` logic in `MainAppChrome.jsx`
- [ ] Add navigation case to `handleMenuItemClick` function
- [ ] Ensure page uses transparent background (not hardcoded colors)
- [ ] Test sidebar active state highlighting
- [ ] Verify proper responsive behavior

## Page Title Standards

### Required Page Header Structure
ALL pages must include a standardized header section with title and subtitle following the established design pattern:

```jsx
// Required imports for page headers
import { useTheme } from '@/services/theme-context';
import { typography } from '@/design-system/tokens/typography';
import { textStyles } from '@/design-system/styles/typography/typography-styles';
import { spacing } from '@/design-system/tokens/spacing';

// Page header implementation
const MyPage = () => {
  const { colors } = useTheme();

  // Title style - ALWAYS use Awesome Serif font with 4xl size and semibold weight
  const titleStyle = {
    fontFamily: typography.fontFamily['awesome-serif'],
    fontSize: typography.desktop.size['4xl'],
    fontWeight: typography.desktop.weight.semibold,
    lineHeight: typography.desktop.lineHeight.leading7,
    letterSpacing: typography.desktop.letterSpacing.normal,
    color: colors.text.default,
    margin: 0,
  };

  // Subtitle style - ALWAYS use small medium text with subtle color
  const subtitleStyle = {
    ...textStyles.sm.medium,
    color: colors.text.subtle,
    margin: 0,
    marginTop: spacing.spacing[8], // REQUIRED: 8px gap between title and subtitle
  };

  return (
    <div style={containerStyles}>
      {/* REQUIRED: Header Section */}
      <div>
        <h1 style={titleStyle}>Page Title</h1>
        <p style={subtitleStyle}>
          Clear, descriptive subtitle explaining the page's purpose and functionality
        </p>
      </div>

      {/* Rest of page content */}
    </div>
  );
};
```

### Page Title Requirements

#### Title Specifications
- **Font**: MUST use `typography.fontFamily['awesome-serif']` (Awesome Serif Variable font)
- **Size**: MUST use `typography.desktop.size['4xl']` (36px)
- **Weight**: MUST use `typography.desktop.weight.semibold` (600)
- **Line Height**: MUST use `typography.desktop.lineHeight.leading7`
- **Color**: MUST use `colors.text.default` from theme context
- **Element**: MUST use `<h1>` tag for semantic HTML
- **Margin**: MUST set `margin: 0` to prevent default browser margins

#### Subtitle Specifications  
- **Style**: MUST use `textStyles.sm.medium` (14px, 500 weight)
- **Color**: MUST use `colors.text.subtle` from theme context
- **Element**: MUST use `<p>` tag for semantic HTML
- **Margin**: MUST set `margin: 0` and `marginTop: spacing.spacing[8]` for 8px gap
- **Content**: MUST provide clear, descriptive text explaining page purpose

#### Header Container
- **Structure**: MUST wrap title and subtitle in a `<div>` container
- **Gap**: The 8px gap is achieved through `marginTop: spacing.spacing[8]` on the subtitle
- **Positioning**: Header should be the first element in the page content

### Page Title Content Guidelines

#### Title Writing Rules
- **Be Specific**: Use clear, descriptive titles that immediately communicate the page's purpose
- **Use Title Case**: Capitalize major words (nouns, verbs, adjectives, adverbs)
- **Keep Concise**: Aim for 1-4 words maximum
- **Avoid Generic Terms**: Instead of "Dashboard" use "Product Home", instead of "Settings" use "Profile"

#### Subtitle Writing Rules
- **Explain Purpose**: Clearly describe what users can do on this page
- **Use Sentence Case**: Capitalize only the first word and proper nouns
- **Be Actionable**: Include verbs that describe user actions (organize, manage, create, view)
- **Keep Helpful**: Provide value to users by explaining benefits or functionality
- **Optimal Length**: Aim for 8-15 words for readability

### Examples of Proper Page Headers

#### Good Examples
```jsx
// Knowledge Base
<h1 style={titleStyle}>Knowledge Base</h1>
<p style={subtitleStyle}>
  Organize and access all your project files, documents, and resources in one place
</p>

// Product Home
<h1 style={titleStyle}>Product Home</h1>
<p style={subtitleStyle}>
  Your content creation dashboard with insights, templates, and quick actions
</p>

// Profile Settings
<h1 style={titleStyle}>Profile</h1>
<p style={subtitleStyle}>
  Manage your account settings, preferences, and personal information
</p>
```

#### Bad Examples
```jsx
// ❌ Wrong font, size, or styling
<h1 style={{ fontSize: '32px', fontWeight: 'bold' }}>Dashboard</h1>

// ❌ Missing subtitle or wrong gap
<h1 style={titleStyle}>Files</h1>
<span style={{ marginTop: '16px', color: '#666' }}>Manage files</span>

// ❌ Generic title and unhelpful subtitle
<h1 style={titleStyle}>Page</h1>
<p style={subtitleStyle}>This is a page</p>

// ❌ Using textStyles instead of typography tokens for title
<h1 style={textStyles['4xl'].semibold}>Settings</h1>
```

### Page Header Checklist
When creating any new page, ensure:

- [ ] Title uses Awesome Serif font (`typography.fontFamily['awesome-serif']`)
- [ ] Title uses 4xl size and semibold weight from typography tokens
- [ ] Title uses `colors.text.default` from theme context
- [ ] Subtitle uses `textStyles.sm.medium` style
- [ ] Subtitle uses `colors.text.subtle` from theme context  
- [ ] Exactly 8px gap between title and subtitle (`spacing.spacing[8]`)
- [ ] Header is wrapped in a container `<div>`
- [ ] Header is positioned as first element in page content
- [ ] Title is descriptive and specific to page purpose
- [ ] Subtitle clearly explains page functionality
- [ ] Both title and subtitle follow content writing guidelines

### Theme Compatibility
- **Title and subtitle colors automatically adapt** to light/dark themes through `useTheme()` hook
- **Typography scales properly** on different screen sizes using design system tokens
- **Consistent spacing maintained** across all pages using spacing tokens 